{% extends 'base.html' %}

{% block content %}
  <div style="width: 320px;">
    <form method="POST">
      {% csrf_token %}
      <h2>Add Course</h2>
      <div class="mt-3 d-flex justify-content-between">
        <label>Course ID</label>
        <input type="text" name="uid" />
      </div>

      <div class="mt-3 d-flex justify-content-between">
        <label>Course Name</label>
        <input type="text" name="name" />
      </div>

      <div class="mt-3 d-flex justify-content-between">
        <label>Max Students</label>
        <input type="text" name="max_numb_students" />
      </div>

      <div class="mt-3 d-flex justify-content-between">
        <label>Instructors</label>
        <select name='instructors'>
          {%for item in all_instructors %}
            <option value={{item}}>{{item}}</option>
          {%endfor%}
        </select>
      </div>

      <button type="submit" class="mt-3 btn btn-success btn-large px-4 py-1">Add</button>
    </form>
    <button 
        class="mt-1 btn btn-secondary btn-large px-4 py-1"
        onclick="window.location.href='/add-room'"
    >Proceed
    </button>
  </div>

  {% if all_courses %}
    <h3 class="mt-5">Courses</h3>
    <table class="table table-bordered">
      {% for course in all_courses %}
        <tr>
          <td>{{ course.uid }}</td>
          <td>
            <center>{{ course.name }}</center>
          </td>
          <td>{{ course.max_numb_students }}</td>  
          <td>{{ course.instructors }}</td>
          <td>
            <center><a href="{% url 'delete-course' course.uid %}"> Delete</a></center>
          </td>
        </tr>
      {% endfor %}
    </table>
  {% endif %}
{% endblock %}
